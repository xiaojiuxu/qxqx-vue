require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageB/pages/content-info/content-info"],{"079d":function(t,e,n){"use strict";n.r(e);var a=n("afea"),i=n("128a");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("8e7e");var s=n("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=r.exports},"128a":function(t,e,n){"use strict";n.r(e);var a=n("a9a0"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"28de":function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("fc20");a(n("3240"));var i=a(n("079d"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"81fb":function(t,e,n){},"8e7e":function(t,e,n){"use strict";var a=n("81fb"),i=n.n(a);i.a},a9a0:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=getApp(),i={components:{uniNavBar:function(){n.e("components/uni-ui/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("0986"))}.bind(null,n)).catch(n.oe)}},data:function(){return{ifbuy:0,scrollH:0,tabIndex:0,tabBars:[{name:"介绍"},{name:"评价"}],live_course_bg:"",liveInfo:{},hidefudao:"",teacherInfo:{id:"",avatar:"",user_nickname:""},fudaoTeacher:{id:"",avatar:"",user_nickname:""},paytype:"",userpasswordkHidden:!0,feedbackpassword:"",passwordcontent:"",getcourseid:"",nums:"",courseid:"",stararr:[1,2,3,4,5],com_data:{},kongkong:!0,webview:"",INFO:[],sorttype:"图文自学",sort:"0",type:1,animationData:[],ishidden:1}},onReady:function(){var e=this,n=this;t.getSystemInfo({success:function(t){n.scrollH=750*t.windowHeight/t.windowWidth-600-70,n.scrollH=750*t.windowHeight/t.windowWidth-750-70}}),this.getnums();var a=-7;setInterval((function(){var n=t.createAnimation({duration:400,delay:0});-7==a?a=0:0==a&&(a=-7),n.translateX(a).step(),e.animationData=n.export()}),400)},onShow:function(){var t=this;setTimeout((function(){t.getContentInfo(t.getcourseid),t.getPingjia(t.courseid),t.getnums()}),300),this.isHidden=1},onLoad:function(t){this.getContentInfo(t.courseid),this.getcourseid=t.courseid,this.courseid=t.courseid,this.getPingjia(t.courseid)},methods:{setLogin:function(){return""!=a.globalData.userinfo||(t.showModal({title:"请先登录你的账号",content:"",showCancel:!0,cancelText:"取消",confirmText:"立即登录",confirmColor:"#2C62EF",success:function(e){e.confirm&&t.navigateTo({url:"../../../pages/login/login"})},fail:function(){},complete:function(){}}),!1)},getnums:function(){var e=this,n=a.globalData;t.request({url:n.site_url+"Cart.GetNums",method:"POST",data:{uid:n.userinfo.id,token:n.userinfo.token},success:function(t){void 0!=t.data.data.info[0]&&(e.nums=t.data.data.info[0].nums)}})},openpinglun:function(){var e=this.setLogin();e&&t.navigateTo({url:"../../../pages/pinglun/pinglun?courseid="+this.courseid+"&title="+this.liveInfo.name+"&avatar="+this.teacherInfo.avatar+"&nickname="+this.teacherInfo.user_nickname})},getPingjia:function(e){var n=this,i=a.globalData;t.request({url:i.site_url+"Comment.GetList",method:"GET",data:{uid:i.userinfo.id,token:i.userinfo.token,courseid:e,p:1},success:function(t){if("0"==t.data.data.code){var e=t.data.data.info[0];void 0!=e.list&&e.list.length>0&&(n.kongkong=!1),n.com_data=e}},fail:function(){t.showToast({icon:"none",title:"网络错误"})}})},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.tabIndex=t.detail.current},backCourseList:function(){t.navigateBack({delta:1})},enterpasslive:function(){0==this.ifbuy?this.userpasswordkHidden=!1:this.enterlive()},submitPassword:function(){var e=this;t.showLoading({title:"......",icon:"none"});var n=this.passwordcontent;this.userpasswordkHidden=!0;var i=a.globalData;t.request({url:i.site_url+"Course.CheckPass",method:"POST",data:{pass:n,courseid:this.getcourseid,uid:i.userinfo.id,token:i.userinfo.token},success:function(n){t.hideLoading(),t.showToast({title:n.data.data.msg,icon:"none"}),0==n.data.data.code&&e.enterContent()},fail:function(){t.hideLoading()}})},submitCancle:function(){this.userpasswordkHidden=!0},getContentInfo:function(e){var n=this,i=a.globalData;t.request({url:i.site_url+"Course.GetDetail",method:"GET",data:{uid:i.userinfo.id,token:i.userinfo.token,courseid:e},success:function(e){if(700!=e.data.data.code){n.ifbuy=e.data.data.info[0].ifbuy,n.sort=e.data.data.info[0].sort,n.type=parseInt(e.data.data.info[0].type),1==n.type?n.sorttype="图文自学":2==n.type?n.sorttype="视频自学":3==n.type&&(n.sorttype="语音自学"),n.INFO=e.data.data.info;var a=e.data.data.info[0];console.log(a),n.live_course_bg=a.thumb?a.thumb:"",n.liveInfo=a,n.teacherInfo=a.userinfo,n.paytype=e.data.data.info[0].paytype,a.tutor.length<1?n.hidefudao="1":(n.fudaoTeacher.id=a.tutor[0].id,n.fudaoTeacher.avatar=a.tutor[0].avatar,n.fudaoTeacher.user_nickname=a.tutor[0].user_nickname)}else t.navigateTo({url:"../../../pages/login/login",success:function(t){},fail:function(){},complete:function(){}})}})},enterpaylive:function(){var t=this.setLogin();t&&1==this.liveInfo.ifbuy&&this.enterContent()},enterContent:function(){var e=this.setLogin();e&&t.navigateTo({url:"../content-detail/content-detail?info="+encodeURIComponent(JSON.stringify(this.liveInfo))+"&type="+this.liveInfo.type+"&thumb="+this.live_course_bg+"&addtime="+this.liveInfo.add_time})},viewTeacherInfo:function(e){var n=this.setLogin();n&&t.navigateTo({url:"../../../pages/teacherinfo/teacherinfo?touid="+e})},doAddCar:function(){var e=this,n=this.setLogin();if(n){var i=a.globalData;t.request({url:i.site_url+"Cart.Add",method:"POST",data:{type:"0",typeid:this.getcourseid,uid:i.userinfo.id,token:i.userinfo.token},success:function(n){e.getContentInfo(e.getcourseid),e.getnums(),t.showToast({title:n.data.data.msg})}})}},shopcar:function(){var e=this.setLogin();e&&t.navigateTo({url:"../../../pages/shop-car/shop-car"})},buy:function(){var e=this.setLogin();e&&t.navigateTo({url:"../../../pages/pay/pay?info="+encodeURIComponent(JSON.stringify(this.INFO))})}}};e.default=i}).call(this,n("df3c")["default"])},afea:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,Math.floor(parseInt(t.com_data.star))),a=0==t.kongkong?t.__map(t.com_data.list,(function(e,n){var a=t.__get_orig(e),i=Math.floor(parseInt(e.star));return{$orig:a,g1:i}})):null;t.$mp.data=Object.assign({},{$root:{g0:n,l0:a}})},i=[]}},[["28de","common/runtime","common/vendor"]]]);