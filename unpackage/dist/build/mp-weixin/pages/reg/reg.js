(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reg/reg"],{"1bd0":function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("3704")),i=getApp(),s={components:{uniStatusBar:function(){n.e("components/uni-ui/uni-status-bar/uni-status-bar").then(function(){return resolve(n("a468"))}.bind(null,n)).catch(n.oe)},otherLogin:function(){n.e("components/common/other-login").then(function(){return resolve(n("aee4"))}.bind(null,n)).catch(n.oe)}},data:function(){return{status:"",username:"",usernameFlag:"",password:"",phone:"",code:"",codeTime:0,loginType:"",placeholder:"请输入验证码",get_captcha_txt:"",foretPass:"",isForgetShow:!1,smsType:0,signKey:"400d069a791d51ada8af3e6c2979bcd7",sign:"",canshowcode:!1}},onLoad:function(){var t=e.getSystemInfoSync(),n=t.statusBarHeight;this.statusBarHeight=n,this.loginType="captcha",this.get_captcha_txt="获取验证码"},computed:{enabled:function(){return""==this.username||""==this.password}},methods:{username_input:function(e){11==e.detail.value.length?this.canshowcode=!0:this.canshowcode=!1},back:function(){e.navigateBack({delta:1})},initForm:function(){this.username="",this.password="",this.phone="",this.code="",this.isForgetShow=!1},getSmsCode:function(){var t=this;if(this.usernameFlag==this.username&&this.codeTime>0)e.showToast({icon:"none",title:"验证码5分钟有效, 请勿多次发送"});else if(this.validate()){var n=this.sort2url({account:this.username});e.request({url:i.globalData.site_url+"Login.GetCode",data:{account:this.username,type:1,sign:n,env:"weixin"},success:function(n){t.codeTime=300,t.usernameFlag=t.username,e.showToast({icon:"none",title:n.data.data.msg})}});var a=setInterval((function(){t.codeTime>=1?t.codeTime--:(t.codeTime=0,clearInterval(a))}),1100)}},validate:function(){return this.phone=this.username,!!/^1[3456789][0-9]\d{8}$/.test(this.phone)||(e.showToast({title:"手机号格式不正确",icon:"none"}),!1)},sort2url:function(e){Object.keys(e).sort((function(e,t){return(e.name+"").localeCompare(t.name+"")}));var t="";for(var n in e)t=t+n+"="+e[n]+"&";return t=t.substr(0,t.length-1),t+="&"+this.signKey,o.default.hex_md5(t)},submit:function(){if(this.validate()){this.sort2url({username:this.username}),i.globalData;e.request({url:i.globalData.site_url+"Login.Reg",data:{username:this.username,code:this.code,pass:this.password,source:3,env:"weixin"},success:function(t){e.showToast({icon:"none",title:t.data.data.msg,duration:2e3}),0===parseInt(t.data.data.code)&&(i.globalData.userinfo=t.data.data.info[0],setTimeout((function(){var t="../index/index",n=i.globalData;""!=n.login_jump.page&&(t=n.login_jump.page),e.reLaunch({url:t})}),2e3))}})}}}};t.default=s}).call(this,n("df3c")["default"])},"7b3c":function(e,t,n){"use strict";n.r(t);var a=n("87d2"),o=n("a4e8");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("a9c8");var s=n("828b"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},"87d2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},o=[]},a4e8:function(e,t,n){"use strict";n.r(t);var a=n("1bd0"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},a9c8:function(e,t,n){"use strict";var a=n("d215"),o=n.n(a);o.a},d215:function(e,t,n){},dc2d:function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("fc20");a(n("3240"));var o=a(n("7b3c"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["dc2d","common/runtime","common/vendor"]]]);