{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?597a","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?fb77","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?04f9","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?5d58","uni-app:///pages/login/login.vue","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?11d3","webpack:///D:/code/xiaochenxu/knowledge_uni_app/pages/login/login.vue?ed22"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","uniStatusBar","otherLogin","data","agree","iswechat","status","login_by_wx","login_by_qq","username","usernameFlag","password","phone","code","codeTime","loginType","placeholder","get_captcha_txt","foretPass","isForgetShow","smsType","sign","jumpPage","keyword","unionid","nickName","avatar","canshowcode","onReady","onLoad","uni","statusBarHeight","computed","enabled","methods","username_input","agreeme","gotoxieyi","url","success","fail","complete","qqlogin","title","icon","wechatlogin","mask","that","method","app","key","thirdlogin","duration","setTimeout","register","back","initForm","chanloginType","getSmsCode","account","type","env","clearInterval","validate","sort2url","newObj","text","submit","source","pass"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAypB,CAAgB,upBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC6F7qB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAEA;AAAA,eAEA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IAEA;IACA;EAqBA;EACAC;IACA;MACA;IACA;IAEA;MACA;IACA;IAGA,4BAEAC;MADAC;IAEA;IACA;IACA;EAGA;EACAC;IACAC;MACA;QACA;MACA;MACA;IACA;EAEA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAP;UACAQ;UACAC;UACAC;UACAC;QACA;MACA;QACAX;UACAQ;UACAC;UACAC;QACA;MACA;IAEA;IACAE;MACA;QACAZ;UACAa;UACAC;QACA;QACA;MACA;MAEA;IAuBA;IACAC;MAAA;MACA;QACAf;UACAa;UACAC;QACA;QACA;MACA;;MAGA;MACA;MACAd;QACAa;QACAG;MACA;MACA;MACAhB;QAEAS;UACA;UACAT;UACAiB;UAEAjB;YACAS;cACA;cACA;cACA;cAEAT;gBACAQ;gBACAU;gBACA7C;kBACA;gBACA;gBACAoC;kBAEA;kBAEAU;kBAEAnB;oBACAoB;oBACA/C;oBACAoC,6BAEA;kBACA;kBAGAQ;gBAEA;cACA;YACA;UACA;QACA;MACA;IAyBA;IACAI;MAEArB;QACAa;QACAG;MACA;MAEA;QACA;QACA;MACA;MACAhB;QACAQ;QACAU;QACA7C;UACA;UACA;UACA;UACA;UACA;UACA;QAEA;QACAoC;UAEAT;UACAA;YACAc;YACAD;YACAS;UACA;UAEA;YACA;UACA;;UAEA;UACAH;UACAnB;YACAoB;YACA/C;YACAoC,6BAEA;UACA;UAEAc;YACA;YACA;YACA;cACAf;YACA;YACAR;cACAQ;YACA;UACA;QACA;MACA;IACA;IAEA;IACAgB;MACAxB;QACAQ;MACA;IACA;IACAiB;MACAzB;QACAQ;MACA;IACA;IACAkB;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA5B;UACAc;UACAD;QACA;QACA;MACA;MACA;MAEA;QACA;MACA;;MAEA;MACAb;QACAQ;QACAnC;UACAwD;UACAC;UAAA;UACAvC;UAAA;;UAEAwC;QAKA;QACAtB;UACAT;YACAc;YACAD;UACA;UACA;YACA;UACA;UACA;UACA;QACA;MACA;MAEA;QACA;UACA;QACA;UACA;UACAmB;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAjC;UACAa;UACAC;UACAQ;QACA;QACA;MACA;MACA;MACA;IACA;IACA;IACAY;MAEA;MACA;MACA;QAAA;QACAC;MACA;;MAEA;MACA;QACAC;MACA;MACAA;MACAA;MAEA;IACA;IACA;IACAC;MACA;QACArC;UACAa;UACAC;QACA;QACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;UACA;QACA;QAEAN;QACAnC;UACAM;UACAI;UAAA;UACAuD;UAAA;UACA/C;UAAA;;UAEAwC;QAEA;MACA;QACAvB;QACAnC;UACAM;UACA4D;QACA;MACA;MAEA;MACAvC;QACAa;QACAG;MACA;MACA;MACAhB;QACAQ;QACAnC;QACAoC;UAEAT;UACAA;YACAc;YACAD;YACAS;UACA;UACA;YACA;UACA;UACA;UACAH;UACAnB;YACAoB;YACA/C;YACAoC,6BAEA;UACA;UACAc;YACA;YACA;YACA;cACAf;YACA;YAEAR;cACAQ;YACA;UACA;QACA;QAAAE;UACAV;UACAA;YACAa;YACAC;UACA;QACA;MACA;IAGA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC1lBA;AAAA;AAAA;AAAA;AAAk8B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;ACAt9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"login-all-wrap\">\n\t\t<uni-status-bar></uni-status-bar>\n\t\t<view class=\"top-wrap\">\n\t\t\t<!-- <template v-if=\"iswechat == 1\"> -->\n\t\t\t<view class=\"iconfont icon-ego-close flex align-center justify-center font-lg\" style=\"width: 100rpx; height: 100rpx; font-weight: bold;\"\n\t\t\t hover-class=\"bg-light\" @click=\"back\"></view>\n\t\t\t<!-- </template> -->\n\t\t\t<button type=\"default\" @click=\"register\" class=\"reg-btn\">注册</button>\n\t\t\t<button class=\"captcha-login-btn\" @click=\"chanloginType('captcha')\" :class=\"{currentLogin : (loginType == 'captcha')}\">验证码登录</button>\n\t\t\t<button class=\"pass-login-btn\" @click=\"chanloginType('pass')\" :class=\"{currentLogin : (loginType == 'pass')}\">密码登录</button>\n\t\t</view>\n\n\t\t<view class=\"text-center\" style=\"padding-bottom: 70rpx;\n\t\tfont-size: 55rpx;\">\n\n\t\t</view>\n\n\t\t<view class=\"px-2 login-input-wrap\">\n\t\t\t<template v-if=\"!status\">\n\t\t\t\t<view class=\"mb-2\">\n\t\t\t\t\t<input @input=\"username_input\" type=\"text\" placeholder-style=\"color:#C9C9C9\" v-model=\"username\" placeholder=\"请输入您的手机号\" class=\"border-bottom p-2\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"verify-code-wrap mb-2 flex align-stretch\">\n\t\t\t\t\t<template v-if=\"isForgetShow == true\">\n\t\t\t\t\t\t<input type=\"password\" placeholder-style=\"color:#C9C9C9\" v-model=\"password\" :placeholder=\"placeholder\" class=\"border-bottom p-2 flex-1\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<input type=\"text\" placeholder-style=\"color:#C9C9C9\" v-model=\"password\" :placeholder=\"placeholder\" class=\"border-bottom p-2 flex-1\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<view class=\"border-bottom flex align-center justify-center font text-light-muted\" @click=\"getSmsCode\" style=\"width: 150rpx;\" \n\t\t\t\t\t:style=\"canshowcode == true?  'color: #2C62EF;': 'color: #C9C9C9;'\">\n\t\t\t\t\t\t{{get_captcha_txt}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t</view>\n\n\t\t<view class=\"login-btn-wrap py-2 px-2\">\n\t\t\t<button class=\"login-btn bg-main text-white\" style=\"border-radius: 50rpx; border: 0;\" type=\"primary\" :enabled=\"false\"\n\t\t\t :class=\"{ opatity: enabled}\" @click=\"submit\">\n\t\t\t\t登录\n\t\t\t</button>\n\n\t\t\t<navigator v-show=\"isForgetShow\" class=\"forget-pass\" url=\"/pages/forget_pass/forget_pass\">{{foretPass}}</navigator>\n\t\t\t<view style=\"height: 30rpx;\"></view>\n\t\t\t<view class=\"newstate\">\n\t\t\t\t<template v-if=\"agree == false\">\n\t\t\t\t\t<image @click=\"agreeme\" class=\"agree\" src=\"../../static/jinyan_nor.png\"></image>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<image @click=\"agreeme\" class=\"agree\" src=\"../../static/jinyan_sel.png\"></image>\n\t\t\t\t</template>\n\t\t\t\t<view class=\"flex align-center justify-center login-botttom-text font-sm\">\n\t\t\t\t\t我已阅读并同意<text @click=\"gotoxieyi('1')\" class=\"xieyi font-sm\">《用户服务协议》</text>和<text @click=\"gotoxieyi('2')\" class=\"xieyi font-sm\">《隐私保护政策》</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"flex align-center justify-center pt-1 pb-3 login-icon-all-wrap\">\n\n\n\t\t\t<!-- #ifndef H5 -->\n\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t<button @click=\"wechatlogin\" open-type=\"getUserInfo\" style=\"background-color: #FFFFFF;\">\n\t\t\t\t<view :class=\"{loginThreeShow : (login_by_wx == true)}\" class=\"loginThreeHide uni-tag-text--primary font-sm\">\n\t\t\t\t\t<image class=\"login-icon\" src=\"../../static/images/login_wx.png\" mode=\"\"></image>\n\t\t\t\t\t<text class=\"login-icon-text font-sm\">微信登录</text>\n\t\t\t\t</view>\n\t\t\t</button>\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef MP-WEIXIN -->\n\t\t\t<view :class=\"{loginThreeShow : (login_by_wx == true)}\" class=\"loginThreeHide uni-tag-text--primary font-sm\" @tap=\"wechatlogin\"\n\t\t\t open-type='getUserInfo'>\n\t\t\t\t<image class=\"login-icon\" src=\"../../static/images/login_wx.png\" mode=\"\"></image>\n\t\t\t\t<text class=\"login-icon-text font-sm\">微信登录</text>\n\t\t\t</view>\n\t\t\t<!-- #endif -->\n\n\t\t\t<view :class=\"{loginThreeShow : (login_by_qq == true)}\" class=\"loginThreeHide uni-tag-text--primary font-sm\" @tap=\"qqlogin\">\n\t\t\t\t<image class=\"login-icon\" src=\"../../static/images/login_qq.png\" mode=\"\"></image>\n\t\t\t\t<text class=\"login-icon-text font-sm\">QQ登录</text>\n\t\t\t</view>\n\t\t\t<!-- #endif -->\n\t\t</view>\n\t\t<view class=\"flex align-center justify-center\">\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport uniStatusBar from '@/components/uni-ui/uni-status-bar/uni-status-bar.vue';\n\timport otherLogin from '@/components/common/other-login.vue';\n\timport md5_js from \"@/static/js/md5.js\";\n\n\tconst app = getApp();\n\n\texport default {\n\t\tcomponents: {\n\t\t\tuniStatusBar,\n\t\t\totherLogin\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tagree: false,\n\t\t\t\tiswechat: 1,\n\t\t\t\tstatus: \"\",\n\t\t\t\tlogin_by_wx: false,\n\t\t\t\tlogin_by_qq: false,\n\t\t\t\tusername: \"\",\n\t\t\t\tusernameFlag: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\tphone: \"\",\n\t\t\t\tcode: \"\",\n\t\t\t\tcodeTime: 0,\n\t\t\t\tloginType: \"\",\n\t\t\t\tplaceholder: \"请输入验证码\",\n\t\t\t\tget_captcha_txt: \"\",\n\t\t\t\tforetPass: \"\",\n\t\t\t\tisForgetShow: false,\n\t\t\t\tsmsType: 0, //获取验证码类型 0 登录 1 注册 2忘记密码\n\t\t\t\tsign: '', //加密后的签名串\n\t\t\t\tjumpPage: '',\n\t\t\t\tkeyword: '',\n\t\t\t\tunionid: '',\n\t\t\t\tnickName: '',\n\t\t\t\tavatar: '',\n\t\t\t\tcanshowcode: false\n\t\t\t}\n\t\t},\n\n\t\tonReady: function() {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\tthis.iswechat = 0;\n\t\t\tthis.login_by_wx = true;\n\t\t\t// #endif\n\t\t\t// #ifndef MP-WEIXIN\n\t\t\t// 获取登录方式开关\n\t\t\tuni.request({\n\t\t\t\turl: app.globalData.site_url + \"Login.GetLoginType\",\n\t\t\t\tdata: {},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (parseInt(res.data.data.code) != 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (res.data.data.info[0] != '') {\n\t\t\t\t\t\tthis.login_by_qq = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (res.data.data.info[1] != '') {\n\t\t\t\t\t\tthis.login_by_wx = true;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #endif\n\t\t},\n\t\tonLoad(option) {\n\t\t\tif (option.page != '') {\n\t\t\t\tthis.jumpPage = option.page;\n\t\t\t}\n\n\t\t\tif (option.keyword != '') {\n\t\t\t\tthis.keyword = option.keyword;\n\t\t\t}\n\n\n\t\t\tlet {\n\t\t\t\tstatusBarHeight\n\t\t\t} = uni.getSystemInfoSync();\n\t\t\tthis.statusBarHeight = statusBarHeight;\n\t\t\tthis.loginType = 'captcha';\n\t\t\tthis.get_captcha_txt = \"获取验证码\";\n\n\n\t\t},\n\t\tcomputed: {\n\t\t\tenabled: function() {\n\t\t\t\tif (this.username == '' || this.password == '') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t},\n\t\tmethods: {\n\t\t\tusername_input(event) {\n\t\t\t\tif (event.detail.value.length == 11) {\n\t\t\t\t\tthis.canshowcode = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.canshowcode = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tagreeme() {\n\t\t\t\tif (this.agree == true) {\n\t\t\t\t\tthis.agree = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.agree = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgotoxieyi(item) {\n\t\t\t\t// 注意这里的type值要和后台的对应页面id对应起来(后台内容管理->页面管理下)\n\t\t\t\tif (item == '1') {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../login/xieyi?type=4',\n\t\t\t\t\t\tsuccess: res => {},\n\t\t\t\t\t\tfail: () => {},\n\t\t\t\t\t\tcomplete: () => {}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../login/xieyi?type=5',\n\t\t\t\t\t\tsuccess: res => {},\n\t\t\t\t\t\tfail: () => {},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tqqlogin() {\n\t\t\t\tif (this.agree == false) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请阅读并同意相关协议',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar that = this;\n\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'qq',\n\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\t// 获取用户信息\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'qq',\n\t\t\t\t\t\t\tsuccess: function(infoRes) {\n\n\t\t\t\t\t\t\t\tvar nickName = infoRes.userInfo.nickName;\n\t\t\t\t\t\t\t\tvar avatarUrl = infoRes.userInfo.avatarUrl;\n\t\t\t\t\t\t\t\tvar unionid = infoRes.userInfo.unionid;\n\n\t\t\t\t\t\t\t\tthat.thirdlogin(unionid, nickName, avatarUrl, 1, 2);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// #endif\n\n\t\t\t},\n\t\t\twechatlogin() {\n\t\t\t\tif (this.agree == false) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请阅读并同意相关协议',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t// 登录\n\t\t\t\tlet gData = app.globalData;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '登录中...',\n\t\t\t\t\tmask: false\n\t\t\t\t});\n\t\t\t\tvar that = this;\n\t\t\t\tuni.login({\n\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t// 发送 res.code 到后台换取 openId, sessionKey, unionId\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tthat.code = res.code;\n\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tsuccess: (info) => {\n\t\t\t\t\t\t\t\tvar data = JSON.parse(info.rawData);\n\t\t\t\t\t\t\t\tthis.nickName = data.nickName;\n\t\t\t\t\t\t\t\tthis.avatar = data.avatarUrl;\n\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: gData.site_url + \"App.Login.getUnionid\",\n\t\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t'code': that.code\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: function(res2) {\n\n\t\t\t\t\t\t\t\t\t\tvar openid = res2.data.data.openid;\n\n\t\t\t\t\t\t\t\t\t\tapp.globalData.openid = openid;\n\n\t\t\t\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t\t\t\t\tkey: 'openid',\n\t\t\t\t\t\t\t\t\t\t\tdata: openid,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t\t\t\t\t\t\tthat.thirdlogin(openid, that.nickName, that.avatar, 2, 3);\n\t\t\t\t\t\t\t\t\t\t// #endif\t\t\t\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef APP-PLUS\n\n\t\t\t\tvar that = this;\n\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\t// 获取用户信息\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\tsuccess: function(infoRes) {\n\t\t\t\t\t\t\t\tvar nickName = infoRes.userInfo.nickName;\n\t\t\t\t\t\t\t\tvar avatarUrl = infoRes.userInfo.avatarUrl;\n\t\t\t\t\t\t\t\tvar unionid = infoRes.userInfo.unionId;\n\t\t\t\t\t\t\t\tthat.thirdlogin(unionid, nickName, avatarUrl, 2, 2);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tthirdlogin(unionid, nickName, avatar, type, source) {\n\t\t\t\t\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中',\n\t\t\t\t\tmask: false\n\t\t\t\t});\n\n\t\t\t\tlet sign = this.sort2url({\n\t\t\t\t\t'openid': unionid,\n\t\t\t\t\t'type': type\n\t\t\t\t});\n\t\t\t\tuni.request({\n\t\t\t\t\turl: app.globalData.site_url + \"Login.LoginByThird\",\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t'openid': unionid,\n\t\t\t\t\t\t'source': source,\n\t\t\t\t\t\t'type': type,\n\t\t\t\t\t\t'nicename': nickName,\n\t\t\t\t\t\t'avatar': avatar,\n\t\t\t\t\t\t'sign': sign,\n\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.data.msg,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (parseInt(res.data.data.code) !== 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// 存入 全局变量\n\t\t\t\t\t\tapp.globalData.userinfo = res.data.data.info[0];\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'userinfo',\n\t\t\t\t\t\t\tdata: res.data.data.info[0],\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tlet url = '../index/index';\n\t\t\t\t\t\t\tlet gData = app.globalData;\n\t\t\t\t\t\t\tif (gData.login_jump.page != '') {\n\t\t\t\t\t\t\t\turl = gData.login_jump.page;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t//注册\n\t\t\tregister() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"../reg/reg\"\n\t\t\t\t})\n\t\t\t},\n\t\t\tback() {\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: \"../index/index\"\n\t\t\t\t});\n\t\t\t},\n\t\t\tinitForm() {\n\t\t\t\tthis.username = '';\n\t\t\t\tthis.password = '';\n\t\t\t\tthis.phone = '';\n\t\t\t\tthis.code = '';\n\t\t\t\tthis.isForgetShow = false;\n\t\t\t},\n\t\t\t// 切换登录\n\t\t\tchanloginType(type) {\n\t\t\t\tif (type == 'captcha') {\n\t\t\t\t\tthis.loginType = 'captcha';\n\t\t\t\t\tthis.placeholder = '请输入验证码';\n\t\t\t\t\tthis.get_captcha_txt = \"获取验证码\";\n\t\t\t\t\tthis.foretPass = '';\n\t\t\t\t\tthis.isForgetShow = false;\n\t\t\t\t} else if (type == 'pass') {\n\t\t\t\t\tthis.loginType = 'pass';\n\t\t\t\t\tthis.placeholder = \"请输入密码\";\n\t\t\t\t\tthis.get_captcha_txt = '';\n\t\t\t\t\tthis.foretPass = '忘记密码';\n\t\t\t\t\tthis.isForgetShow = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 获取验证码\n\t\t\tgetSmsCode() {\n\t\t\t\t//防止重复获取 \n\t\t\t\tif ((this.usernameFlag == this.username) && this.codeTime > 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"验证码5分钟有效, 请勿多次发送\"\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.validate()) return;\n\n\t\t\t\tlet sign = this.sort2url({\n\t\t\t\t\t'account': this.username,\n\t\t\t\t});\n\n\t\t\t\t//调用验证码接口\n\t\t\t\tuni.request({\n\t\t\t\t\turl: app.globalData.site_url + \"Login.GetCode\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taccount: this.username,\n\t\t\t\t\t\ttype: this.smsType, //0登录1注册2忘记密码\n\t\t\t\t\t\tsign: sign, //加密md5串\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t\t\tenv: 'weixin'\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\tenv: 'H5'\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.data.msg\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (parseInt(res.data.data.code) !== 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.codeTime = 300;\n\t\t\t\t\t\tthis.usernameFlag = this.username;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tlet timer = setInterval(() => {\n\t\t\t\t\tif (this.codeTime >= 1) {\n\t\t\t\t\t\tthis.codeTime--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.codeTime = 0;\n\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t}\n\t\t\t\t}, 1000)\n\t\t\t},\n\t\t\t//验证\n\t\t\tvalidate() {\n\t\t\t\tvar mPattern = /^1[3456789][0-9]\\d{8}$/;\n\t\t\t\tthis.phone = this.username;\n\t\t\t\tif (!mPattern.test(this.phone)) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '手机号格式不正确',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t//更多验证\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\t// 字典序排序\n\t\t\tsort2url(arr1) {\n\n\t\t\t\tvar newkey = Object.keys(arr1).sort();\n\t\t\t\tvar newObj = {};\n\t\t\t\tfor (var i = 0; i < newkey.length; i++) { //遍历newkey数组\n\t\t\t\t\tnewObj[newkey[i]] = arr1[newkey[i]]; //向新创建的对象中按照排好的顺序依次增加键值对\n\t\t\t\t}\n\n\t\t\t\tvar text = \"\";\n\t\t\t\tfor (var index in newObj) {\n\t\t\t\t\ttext = text + index + \"=\" + newObj[index] + \"&\";\n\t\t\t\t}\n\t\t\t\ttext = text.substr(0, text.length - 1);\n\t\t\t\ttext += '&' + app.globalData.sign_key;\n\n\t\t\t\treturn md5_js.hex_md5(text);\n\t\t\t},\n\t\t\t// 提交\n\t\t\tsubmit() {\n\t\t\t\tif (this.agree == false) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请阅读并同意相关协议',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet url;\n\t\t\t\tlet data;\n\t\t\t\tif (this.loginType == 'captcha') {\n\t\t\t\t\t// 表单验证\n\t\t\t\t\tif (!this.validate()) return;\n\t\t\t\t\tlet sign = this.sort2url({\n\t\t\t\t\t\t'username': this.username,\n\t\t\t\t\t});\n\n\t\t\t\t\turl = app.globalData.site_url + \"Login.LoginByCode\";\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tusername: this.username,\n\t\t\t\t\t\tcode: this.password, //验证码\n\t\t\t\t\t\tsource: 3, //0web，1android，2ios，3小程序\n\t\t\t\t\t\tsign: sign, //加密md5串\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t\t\tenv: 'weixin'\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\turl = app.globalData.site_url + \"Login.Login\";\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tusername: this.username,\n\t\t\t\t\t\tpass: this.password,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlet that = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tmask: false\n\t\t\t\t});\n\t\t\t\t//登录处理\n\t\t\t\tuni.request({\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: data,\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.data.msg,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (parseInt(res.data.data.code) !== 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 存入 全局变量\n\t\t\t\t\t\tapp.globalData.userinfo = res.data.data.info[0];\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'userinfo',\n\t\t\t\t\t\t\tdata: res.data.data.info[0],\n\t\t\t\t\t\t\tsuccess: function() {\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tlet url = '../index/index';\n\t\t\t\t\t\t\tlet gData = app.globalData;\n\t\t\t\t\t\t\tif (gData.login_jump.page != '') {\n\t\t\t\t\t\t\t\turl = gData.login_jump.page;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t},fail() {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t}\n\n\t\t}\n\t}\n</script>\n\n<style>\n\t.newstate {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n\n\t.agree {\n\t\twidth: 30rpx;\n\t\theight: 30rpx;\n\t\tmargin-top: 8rpx;\n\t\tmargin-left: 10rpx;\n\t}\n\n\t.login-all-wrap {\n\t\tpadding: 0 15rpx;\n\t}\n\n\t/*三方登录默认隐藏*/\n\t.loginThreeHide {\n\t\tdisplay: none;\n\t}\n\n\t.loginThreeShow {\n\t\tdisplay: inline-block;\n\t}\n\n\t.reg-btn {\n\t\tfloat: right;\n\t\t/* #ifdef MP-WEIXIN*/\n\t\tmargin-top: 0rpx;\n\t\t/* #endif */\n\t\t/* #ifdef APP-PLUS*/\n\t\tmargin-top: -90rpx;\n\t\t/* #endif */\n\t\tfont-size: 30rpx;\n\t\tcolor: #646464;\n\t}\n\n\t.top-wrap button {\n\t\tdisplay: inline-block;\n\t\tbackground-color: #FFFFFF;\n\t\toverflow: inherit;\n\t}\n\n\tbutton::after {\n\t\tborder: none;\n\t}\n\n\t.captcha-login-btn,\n\t.pass-login-btn {\n\t\tfont-size: 30rpx;\n\t\tcolor: #646464;\n\t}\n\n\t.currentLogin {\n\t\tfont-weight: bold;\n\t\tfont-size: 44rpx;\n\t}\n\n\t/* 输入框部分 */\n\t.login-input-wrap input {\n\t\tcolor: #000000;\n\t}\n\n\t.border-bottom {\n\t\tcolor: #C9C9C9;\n\t}\n\n\t.verify-code-wrap {\n\t\tmargin-top: 60rpx;\n\t}\n\n\n\t/*登录按钮部分*/\n\t.login-btn-wrap {\n\t\tmargin-top: 80rpx;\n\t\theight: 90rpx;\n\t}\n\n\t.login-btn-wrap button {\n\t\tfont-size: 30rpx;\n\t\theight: 100%;\n\t\tline-height: 90rpx;\n\t}\n\n\t/* 登录按钮 输入内容时,去掉灰色效果 */\n\t.login-btn {\n\t\tbackground: linear-gradient(to right, #3D98FF, #7A76FA);\n\t}\n\n\t.opatity {\n\t\topacity: 0.5;\n\t}\n\n\t/* 登录图标 */\n\t.login-icon-all-wrap {\n\t\tmargin-top: 320rpx;\n\t}\n\n\t.login-icon {\n\t\tcolor: #60E28B;\n\t\tdisplay: inline-block;\n\t\twidth: 88rpx;\n\t\theight: 88rpx;\n\t\ttext-align: center;\n\t\tline-height: 88rpx;\n\t\tfont-size: 80rpx;\n\t}\n\n\t.qq-login-icon {\n\t\tcolor: #63C6EF;\n\t}\n\n\t.uni-tag-text--primary {\n\t\tmargin: 0 60rpx;\n\t}\n\n\t.uni-tag-text--primary text {\n\t\tdisplay: block;\n\t}\n\n\t.login-icon-text {\n\t\tcolor: #646464 !important;\n\t}\n\n\t.login-botttom-text {\n\t\tcolor: #646464;\n\t\tmargin-left: 10rpx;\n\t}\n\n\t.xieyi {\n\t\tcolor: #2C62EF;\n/* \t\tfont-size: small !important; */\n\t}\n\n\t/* 忘记密码 */\n\t.forget-pass {\n\t\tfont-size: 26rpx;\n\t\tcolor: #C9C9C9;\n\t\ttext-align: right;\n\t\tmargin-top: 30rpx;\n\t}\n</style>\n","import mod from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1751547843115\n      var cssReload = require(\"D:/Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}